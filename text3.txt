Learning to commit and push